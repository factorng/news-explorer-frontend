{"version":3,"sources":["utils/constants.js","images/my_foto.jpg","images/git.png","images/facebook.png","contexts/CurrentUserContext.js","components/Header/Header.js","components/SearchForm/SearchForm.js","components/About/About.js","components/Footer/Footer.js","components/NewsCard/NewsCard.js","components/NewsCardList/NewsCardList.js","components/PopupWithForm/PopupWithForm.js","hooks/formWithValidation.js","components/PopupAuth/PopupAuth.js","components/PopupRegister/PopupRegister.js","components/SavedNewsHeader/SavedNewsHeader.js","components/SavedNews/SavedNews.js","components/MobileMenu/MobileMenu.js","components/Preloader/Preloader.js","utils/NewsApi.js","components/ProtectedRoute/ProtectedRoute.js","utils/MainApi.js","components/InfoTooltipPopup/InfoTooltipPopup.js","components/App.js","index.js"],"names":["module","exports","DAYS_TO_SEARCH","ARTICLES_TO_SHOW","NEWS_API_KEY","NEWS_API_URL","NEWS_EXPLORER_API_URL","IMAGE_NOT_FOUND","CurrentUserContext","React","createContext","Header","handleMobileOpen","popupAuthOpen","handleLogOut","pathname","useLocation","currentUser","useContext","className","exact","to","activeClassName","name","onClick","SearchForm","handleQuery","searchQuery","useState","query","setQuery","onSubmit","e","preventDefault","type","required","onChange","target","value","About","src","my_foto","alt","Footer","scrollToTop","window","scrollTo","href","rel","gitIcon","facebookIcon","NewsCard","article","handleButton","savedArticles","bookmarkMarked","setBookmarkMarked","useEffect","undefined","find","i","title","buttonClassName","keywordClassName","keyword","urlToImage","image","publishedAt","date","Date","toLocaleDateString","month","day","getFullYear","dateFormat","description","text","source","NewsCardList","articles","news","setNews","isAddMoreButtonDisabled","setIsAddMoreButtonDisabled","slice","localStorage","getItem","length","map","key","disabled","PopupWithForm","isOpen","formName","onClose","children","buttonText","onClickBottomButton","bottomButtonText","submitEnable","method","action","noValidate","aria-label","useFormWithValidation","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","validationMessage","closest","checkValidity","PopupAuth","handlePopupRegisterOpen","handleLogin","handleClose","email","password","id","minLength","maxLength","placeholder","pattern","PopupRegister","handlePopupAuthOpen","handleRegister","isError","SavedNewsHeader","keyWords","setKeyWords","elem","reduce","sum","el","Object","keys","keyWordsCount","ending","toString","endsWith","getEnding","SavedNews","savedNewsContainer","MobileMenu","Preloader","newsApi","settings","this","baseUrl","url","dateNow","toISOString","setDate","getDate","dateWeekAgo","fetch","then","result","ok","json","Promise","reject","status","catch","err","console","log","ProtectedRoute","setIsPopupAuthOpen","Component","component","header","props","loggedIn","getSavedArticles","headers","Authorization","res","InfoTooltip","onOpen","handleButtonCLick","App","isPopupAuthOpen","isPopupRegisterOpen","setIsPopupRegisterOpen","isMobileMenuOpen","setIsMobileMenuOpen","newsCards","setNewsCards","setSearchQuery","isLoading","setIsLoading","setLoggedIn","setCurrentUser","setSavedArticles","isInfoTooltipOpen","setIsInfoTooltipOpen","isRegistrationError","setIsRegistrationError","history","useHistory","tokenCheck","removeItem","getNews","apiCards","setItem","JSON","stringify","localStorageArticles","parse","push","escClosePopup","evt","closeAllPopups","overlayClosePopup","classList","contains","document","addEventListener","removeEventListener","credentials","Error","_id","handleDeleteArticle","deleteArticle","filter","message","Provider","path","articleToSaveOrDelete","link","body","saveArticle","Accept","authorize","token","register","ReactDOM","render","StrictMode","querySelector"],"mappings":"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","file":"static/js/main.3c4510a8.chunk.js","sourcesContent":["const DAYS_TO_SEARCH = 7;\r\nconst ARTICLES_TO_SHOW = 3;\r\nconst NEWS_API_URL = 'https://nomoreparties.co/news/v2/everything?';\r\nconst NEWS_API_KEY = 'bf7169dab96c48ad8d40d898b911863c';\r\nconst NEWS_EXPLORER_API_URL = 'https://ancient-peak-40824.herokuapp.com';\r\nconst IMAGE_NOT_FOUND = 'https://i.pinimg.com/736x/05/64/aa/0564aa6901080b36d98fd5b9ef5be549.jpg';\r\n\r\nmodule.exports = {\r\n    DAYS_TO_SEARCH,\r\n    ARTICLES_TO_SHOW,\r\n    NEWS_API_KEY,\r\n    NEWS_API_URL,\r\n    NEWS_EXPLORER_API_URL,\r\n    IMAGE_NOT_FOUND\r\n};","module.exports = __webpack_public_path__ + \"static/media/my_foto.c339d7c6.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAVCAYAAABCIB6VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJJSURBVHgBnVWxctpAEL2TMCYRyigzMUhpLHdJxx9Y/oKYMlVMl85Jlw77C8IfYL4A8wdKl9Lp3FlugrDjCZ7BY+MZOL8FneYkBBbeGUZ3e7vv3r7bOxjLabZlufTLG8+XLViw18XioeDcw9RLLftiOu0wXffDMAxyAzvV6iET4ohxbrHnmCHu79XV8UpgYvlqc7ObwfA5O70fjxtDmHRo6ipA2y8AJduPCMWmy8H7SqWJ0r/SWAhxogvRmGIvznlNMBag5AB6n+NrIa6E8TG+DQS/pRikuWa5fDu6u/tNGDMpbNt2kXAhN8HBNMLr6xMakzxqiWmzt7YOuKa1o+kQkuxQ/FyKycRTgxEYH9oq0Ci2pkytUrH4jQZatPhFDUaZpyynIbYFOeLNIctuDMySB9Zb1ptZRrE4g57i8mbApG+CgRBnbE0Dy4RcjuNsaxlx22xdE2IhR0uXHbXOepbK6ff7l5Kxr/hrkMdjOY3aDR9XzkWENQOGrr8SBIToRgkrzalU9lHhz4ST804MXHp8lC1zhvbZwzigpsdjdIEb2V4ArFZbAP0PkG7GQ+XHwAFdArqikAFsm0LT6uSmErHRbSbdjJePrrk8s4J09geDFph8YvM+3MV8Z9l1hnRDSJD0gSlAj+RcVxffbWz0JoXCB6T8eGMYrq7rH03DsPCwnKtxZcPw+PwPIAZ9GI/rDzDpS/QxSQKmdSoJvwMkN5G0vP3m5/I9HAz20pXpWfGj0cgvm2YHOv6h53KBsWmSxpdg+fnfzY2fhfEEmoDzY5hKFZwAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACoSURBVHgB7ZPdDYMwDISPqgOwQekGGYFuUjZgBJiAkWATsgEjQCKMZAyCBPmBB0462bKcL/8A0DqPSm4TStT0grKuAGvnr3NC/smGmDMqdybIRE8wrBeglGA573sjXFbAeoorxZyhZbnZg8UCgxTyDgvMq1vs5VdnKPex4QPOLuODY/15v8aWM1k4/Z/kio0xrD4g8tnkFC2rpay+0i3+8gPcAjvoqZsA7IpYR1MRXSkAAAAASUVORK5CYII=\"","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useLocation, NavLink } from \"react-router-dom\";\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\nimport \"./Header.css\";\r\n\r\nfunction Header({ handleMobileOpen, popupAuthOpen, handleLogOut }) {\r\n  const { pathname } = useLocation();\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  return (\r\n    <div\r\n      className={pathname === \"/saved-news\" ? \"header header_black\" : \"header\"}\r\n    >\r\n      <p className=\"header__logo\"> NewsExplorer </p>\r\n      <nav className=\"header__nav\">\r\n        <ul className=\"header__menu\">\r\n          <li>\r\n            <NavLink\r\n              exact\r\n              to=\"/\"\r\n              className={\r\n                pathname === \"/saved-news\"\r\n                  ? \"header__menu-item header__menu-item_black\"\r\n                  : \"header__menu-item\"\r\n              }\r\n              activeClassName={\r\n                pathname === \"/saved-news\"\r\n                  ? \"header__menu-item_underlined header__menu-item_underlined_black\"\r\n                  : \"header__menu-item_underlined\"\r\n              }\r\n            >\r\n              Главная\r\n            </NavLink>\r\n          </li>\r\n          {currentUser.name ?\r\n          <li>\r\n            <NavLink\r\n              to=\"/saved-news\"\r\n              className={\r\n                pathname === \"/saved-news\"\r\n                  ? \"header__menu-item header__menu-item_black\"\r\n                  : \"header__menu-item\"\r\n              }\r\n              activeClassName={\r\n                pathname === \"/saved-news\"\r\n                  ? \"header__menu-item_underlined header__menu-item_underlined_black\"\r\n                  : \"header__menu-item_underlined\"\r\n              }\r\n            >\r\n              Сохраненные статьи\r\n            </NavLink>\r\n          </li>\r\n          : ''} \r\n        </ul>\r\n        <button\r\n          className={\r\n            pathname === \"/saved-news\"\r\n              ? \"header__login-button header__login-button_black\"\r\n              : \"header__login-button\"\r\n          }\r\n          onClick={currentUser.name ? handleLogOut : popupAuthOpen}\r\n        >\r\n          {currentUser.name || \"Авторизоваться\"}\r\n          <span\r\n            className={\r\n              pathname === \"/saved-news\"\r\n                ? \"header__login-pic header__login-pic_black\"\r\n                : \"header__login-pic\"\r\n            }\r\n          ></span>\r\n        </button>\r\n      </nav>\r\n      <button\r\n        className={\r\n          pathname === \"/saved-news\"\r\n            ? \"header__mobile-menu-button header__mobile-menu-button_black\"\r\n            : \"header__mobile-menu-button header__mobile-menu-button_white\"\r\n        }\r\n        onClick={handleMobileOpen}\r\n      ></button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport './SearchForm.css';\r\n\r\nfunction SearchForm({handleQuery, searchQuery}) {\r\n  const [query, setQuery] = React.useState('');\r\n  \r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    handleQuery(query);\r\n  }\r\n  \r\n  \r\n  return (\r\n    <main className=\"search\">\r\n        <section className=\"search__info\">\r\n            <h2 className=\"search__title\">Что творится в мире?</h2>\r\n            <p className=\"search__text\">Находите самые свежие статьи на любую тему и сохраняйте в своём личном кабинете.</p>\r\n        </section>\r\n        <form className=\"search__form\" onSubmit={handleSubmit}>\r\n            <input type=\"text\" className=\"search__input\" required\r\n             onChange={(e) => setQuery(e.target.value)} value={query || ''}/>\r\n            <button className=\"search__button\" type=\"submit\">Искать</button>\r\n        </form>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default SearchForm;","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport \"./About.css\";\r\nimport my_foto from \"../../images/my_foto.jpg\";\r\n\r\nfunction About() {\r\n  return (\r\n    <section className=\"about\">\r\n        <img className=\"about__image\" src={my_foto} alt=\"фотография автора\"></img>\r\n        <section className=\"about__info\">\r\n          <h2 className=\"about__title\">Об авторе</h2>\r\n          <p className=\"about__text\">\r\n            Это блок с описанием автора проекта. Здесь следует указать, как вас\r\n            зовут, чем вы занимаетесь, какими технологиями разработки владеете.\r\n          </p>\r\n          <p className=\"about__text\">\r\n            Также можно рассказать о процессе обучения в Практикуме, чему вы тут\r\n            научились, и чем можете помочь потенциальным заказчикам.\r\n          </p>\r\n        </section>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default About;\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { NavLink  } from \"react-router-dom\";\r\nimport \"./Footer.css\";\r\nimport gitIcon from \"../../images/git.png\";\r\nimport facebookIcon from \"../../images/facebook.png\";\r\n\r\nfunction Footer() {\r\n  const scrollToTop = () => {\r\n    window.scrollTo(0, 0);\r\n  }\r\n  return (\r\n    <footer className=\"footer\">\r\n      <section className=\"footer__copyright\">\r\n      © 2020 Supersite, Powered by News API\r\n      </section>\r\n      <ul className=\"footer__menu\">\r\n          <li>\r\n            <NavLink exact to=\"/\" className=\"footer__menu-item\" onClick={scrollToTop}>\r\n             Главная</NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink exact to=\"/saved-news\" className=\"footer__menu-item\" onClick={scrollToTop}>\r\n                Сохраненные статьи</NavLink>\r\n          </li>\r\n      </ul>\r\n      <section className=\"footer__social\">\r\n        <a href=\"https://github.com\" target=\"_blank\" rel=\"noopener noreferrer\"><img className=\"footer__icon\" src={gitIcon} alt=\"иконка Гитхаб\"/></a>\r\n        <a href=\"https://facebook.com\" target=\"_blank\" rel=\"noopener noreferrer\"><img className=\"footer__icon\" src={facebookIcon} alt=\"иконка Фейсбук\"/></a>\r\n      </section>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport \"./NewsCard.css\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction NewsCard({ article, handleButton, savedArticles }) {\r\n  const { pathname } = useLocation();\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [bookmarkMarked, setBookmarkMarked] = React.useState(false);\r\n\r\n  function dateFormat(publishedAt) {\r\n    let date = new Date(publishedAt);\r\n    const options = { month: \"long\", day: \"numeric\" };\r\n    return `${date.toLocaleDateString(\"ru\", options)}, ${date.getFullYear()}`;\r\n  }\r\n\r\n  \r\n\r\n  React.useEffect(() => {\r\n    if (currentUser.name && savedArticles) {\r\n      setBookmarkMarked(\r\n        savedArticles.find((i) => i.title === article.title) !== undefined\r\n      );\r\n    }\r\n  }, [article.title, currentUser, savedArticles]);\r\n\r\n  let buttonClassName = `${\r\n    pathname === \"/saved-news\"\r\n      ? \"news-card__button-delete\"\r\n      : currentUser.name\r\n      ? `${\r\n          bookmarkMarked\r\n            ? \"news-card__button-bookmark_loggedIn news-card__button-bookmark_marked\"\r\n            : \"news-card__button-bookmark_loggedIn\"\r\n        }`\r\n      : \"news-card__button-bookmark\"\r\n  }`;\r\n  const keywordClassName = `${\r\n    pathname === \"/saved-news\"\r\n      ? \"news-card__keyword news-card__keyword_active\"\r\n      : \"news-card__keyword\"\r\n  }`;\r\n\r\n  return (\r\n    <div className=\"news-card\">\r\n      <p className={keywordClassName}>{article.keyword}</p>\r\n      <button\r\n        className={buttonClassName}\r\n        onClick={() => {\r\n          handleButton(article);\r\n        }}\r\n      ></button>\r\n\r\n      <img\r\n        className=\"news-card__image\"\r\n        src={article.urlToImage || article.image}\r\n        alt={article.title}\r\n      ></img>\r\n      <div className=\"news-card__info\">\r\n        <p className=\"news-card__date\">\r\n          {dateFormat(article.publishedAt || article.date)}\r\n        </p>\r\n        <h3 className=\"news-card__header\">{article.title}</h3>\r\n        <p className=\"news-card__text\">{article.description || article.text}</p>\r\n        <p className=\"news-card__source\">\r\n          {article.source.name || article.source}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewsCard;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport NewsCard from \"../NewsCard/NewsCard\";\r\nimport \"./NewsCardList.css\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { ARTICLES_TO_SHOW } from \"../../utils/constants\"; \r\n\r\nfunction NewsCardList({ articles, handleButton, savedArticles, searchQuery }) {\r\n  const [news, setNews] = useState([]);\r\n  const [isAddMoreButtonDisabled, setIsAddMoreButtonDisabled] = useState(false);\r\n  const { pathname } = useLocation();\r\n\r\n  function addNews() {\r\n    setNews(articles.slice(0, news.length + ARTICLES_TO_SHOW));\r\n    if (news.length >= articles.length - ARTICLES_TO_SHOW) {\r\n      setIsAddMoreButtonDisabled(true);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    setNews(articles.slice(0, ARTICLES_TO_SHOW));\r\n  }, [articles]);\r\n\r\n  return (\r\n    <>\r\n      {searchQuery || localStorage.getItem(\"articles\") ? \r\n      <section className=\"search-results\">\r\n        <h2 className=\"search-results__header\">Результаты поиска</h2>\r\n        {articles.length === 0 ? \"Ничего не найдено.\" : \"\"}\r\n\r\n        <div className=\"news-card-list\">\r\n          {news.map((news, key) => {\r\n            let keyword =''\r\n            if (pathname === \"/saved-news\") keyword = news.keyword;\r\n            return (\r\n              <NewsCard\r\n                article={news}\r\n                key={key}\r\n                keyword={keyword}\r\n                handleButton={handleButton}\r\n                savedArticles={savedArticles}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n        {articles.length > ARTICLES_TO_SHOW ? (\r\n          <button\r\n            className=\"search-results__show-more\"\r\n            onClick={addNews}\r\n            disabled={isAddMoreButtonDisabled}\r\n          >\r\n            Показать ещё\r\n          </button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </section>\r\n      : ''\r\n      }      \r\n    </>\r\n  );\r\n}\r\n\r\nexport default NewsCardList;\r\n","import React from \"react\";\r\nimport \"./PopupWithForm.css\";\r\n\r\nfunction PopupWithForm({\r\n  isOpen,\r\n  className,\r\n  formName,\r\n  onSubmit,\r\n  onClose,\r\n  title,\r\n  children,\r\n  buttonText,\r\n  onClickBottomButton,\r\n  bottomButtonText,\r\n  submitEnable,\r\n}) {\r\n  return (\r\n    <div\r\n      className={\r\n        isOpen ? `popup  ${className} popup_open` : `popup  ${className}`\r\n      }\r\n    >\r\n      <h1 className=\"popup__logo\"> NewsExplorer </h1>\r\n      <form\r\n        className={`popup__form ${formName}`}\r\n        method=\"post\"\r\n        action=\"#\"\r\n        onSubmit={onSubmit}\r\n        noValidate\r\n      >\r\n        <button\r\n          className=\"popup__button-close\"\r\n          type=\"button\"\r\n          aria-label=\"закрыть\"\r\n          onClick={onClose}\r\n        />\r\n        <h3 className=\"popup__title\">{title}</h3>\r\n        {children}\r\n\r\n        <button\r\n          className={\r\n            submitEnable\r\n              ? \"popup__button-submit\"\r\n              : \"popup__button-submit popup__button-submit_disabled\"\r\n          }\r\n          disabled={!submitEnable}\r\n          type=\"submit\"\r\n        >\r\n          {buttonText}\r\n        </button>\r\n        <p className=\"popup__bottom-button\">\r\n          или\r\n          <span\r\n            className=\"popup__bottom-button-text\"\r\n            onClick={onClickBottomButton}\r\n          >\r\n            {bottomButtonText}\r\n          </span>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useCallback } from 'react';\r\n\r\n//хук управления формой и валидации формы\r\nexport default function useFormWithValidation() {\r\n    const [values, setValues] = React.useState({});\r\n    const [errors, setErrors] = React.useState({});\r\n    const [isValid, setIsValid] = React.useState(false);\r\n  \r\n    const handleChange = (event) => {\r\n      const target = event.target;\r\n      const name = target.name;\r\n      const value = target.value;\r\n      setValues({...values, [name]: value});\r\n      setErrors({...errors, [name]: target.validationMessage });\r\n      setIsValid(target.closest(\"form\").checkValidity());\r\n    };\r\n  \r\n    const resetForm = useCallback(\r\n      (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n        setValues(newValues);\r\n        setErrors(newErrors);\r\n        setIsValid(newIsValid);\r\n      },\r\n      [setValues, setErrors, setIsValid]\r\n    );\r\n  \r\n    return { values, handleChange, errors, isValid, resetForm };\r\n  }","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nimport useFormWithValidation from \"../../hooks/formWithValidation\";\r\n\r\nfunction PopupAuth({ isOpen, onClose, handlePopupRegisterOpen, handleLogin }) {\r\n  const {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n    resetForm,\r\n  } = useFormWithValidation();\r\n\r\n  function handleClose() {\r\n    onClose();\r\n    resetForm({email: '', password: ''},{},false);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n    const email = values.email;\r\n    const password = values.password;\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    handleLogin(email, password, handleClose);\r\n  }\r\n  function handlePopupSwitch() { \r\n    onClose();\r\n    handlePopupRegisterOpen(true);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={handleClose}\r\n      title=\"Вход\"\r\n      onSubmit={handleSubmit}\r\n      buttonText=\"Войти\"\r\n      bottomButtonText=\"Зарегистрироваться\"\r\n      onClickBottomButton={handlePopupSwitch}\r\n      submitEnable={isValid}\r\n    >\r\n      <>\r\n        <div className=\"popup__input-field\">\r\n          <input\r\n            id=\"email\"\r\n            className=\"popup__input edit-profile__input-email\"\r\n            type=\"email\"\r\n            value={values.email || \"\"}\r\n            onChange={handleChange}\r\n            name=\"email\"\r\n            minLength=\"5\"\r\n            maxLength=\"40\"\r\n            placeholder=\"Введите email\"\r\n            pattern=\"^[^@]+@[^@.]+\\.[^@]+$\"\r\n            required\r\n          />\r\n          <span\r\n            className={`popup__input-error popup__name-error ${\r\n              !isValid && \"popup__input-error_active\"\r\n            }`}\r\n          >\r\n            {errors.email || \"\"}\r\n          </span>\r\n        </div>\r\n        <div className=\"popup__input-field\">\r\n          <input\r\n            id=\"password\"\r\n            className=\"popup__input edit-profile__input-password\"\r\n            type=\"password\"\r\n            value={values.password || \"\"}\r\n            onChange={handleChange}\r\n            name=\"password\"\r\n            minLength=\"5\"\r\n            maxLength=\"40\"\r\n            placeholder=\"Ведите пароль\"\r\n            required\r\n          />\r\n          <span\r\n            className={`popup__input-error popup__name-error ${\r\n              !isValid && \"popup__input-error_active\"\r\n            }`}\r\n          >\r\n            {errors.password || \"\"}\r\n          </span>\r\n        </div>\r\n      </>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default PopupAuth;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nimport useFormWithValidation from \"../../hooks/formWithValidation\";\r\n\r\nfunction PopupRegister({\r\n  isOpen,\r\n  onClose,\r\n  handlePopupAuthOpen,\r\n  handleRegister,\r\n  isError\r\n}) {\r\n  const {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n    resetForm,\r\n  } = useFormWithValidation();\r\n\r\n  function handleClose() {\r\n    onClose();\r\n    resetForm({ email: \"\", password: \"\", name: \"\" }, {}, false);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n    const email = values.email;\r\n    const password = values.password;\r\n    const name = values.name;\r\n    if (!email || !password || !name) {\r\n      return;\r\n    }\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    handleRegister(email, password, name);\r\n  }\r\n\r\n  function handlePopupOpen() {\r\n    onClose();\r\n    handlePopupAuthOpen(true);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={handleClose}\r\n      title=\"Вход\"\r\n      onSubmit={handleSubmit}\r\n      buttonText=\"Зарегистрироваться\"\r\n      bottomButtonText=\"Войти\"\r\n      onClickBottomButton={handlePopupOpen}\r\n      submitEnable={isValid}\r\n    >\r\n      <>\r\n        <div className=\"popup__input-field\">\r\n          <input\r\n            id=\"email-registration\"\r\n            className=\"popup__input edit-profile__input-email\"\r\n            type=\"email\"\r\n            value={values.email || \"\"}\r\n            onChange={handleChange}\r\n            name=\"email\"\r\n            placeholder=\"Введите email\"\r\n            minLength={2}\r\n            maxLength={40}\r\n            pattern=\"^[^@]+@[^@.]+\\.[^@]+$\"\r\n            required\r\n          />\r\n          <span\r\n            className={`popup__input-error popup__name-error ${\r\n              !isValid && \"popup__input-error_active\"\r\n            }`}\r\n          >\r\n            {errors.email || \"\"}\r\n          </span>\r\n        </div>\r\n        <div className=\"popup__input-field\">\r\n          <input\r\n            id=\"password-registration\"\r\n            className=\"popup__input edit-profile__input-password\"\r\n            type=\"password\"\r\n            value={values.password || \"\"}\r\n            onChange={handleChange}\r\n            name=\"password\"\r\n            placeholder=\"Ведите пароль\"\r\n            minLength={2}\r\n            maxLength={20}\r\n            required\r\n          />\r\n          <span\r\n            className={`popup__input-error popup__name-error ${\r\n              !isValid && \"popup__input-error_active\"\r\n            }`}\r\n          >\r\n            {errors.password || \"\"}\r\n          </span>\r\n        </div>\r\n        <div className=\"popup__input-field\">\r\n          <input\r\n            id=\"name-registration\"\r\n            className=\"popup__input edit-profile__input-name\"\r\n            type=\"text\"\r\n            value={values.name || \"\"}\r\n            onChange={handleChange}\r\n            name=\"name\"\r\n            placeholder=\"Введите имя\"\r\n            minLength={2}\r\n            maxLength={20}\r\n            required\r\n          />\r\n          <span\r\n            className={`popup__input-error popup__name-error ${\r\n              !isValid && \"popup__input-error_active\"\r\n            }`}\r\n          >\r\n            {errors.name || \"\"}\r\n          </span>\r\n          <span\r\n            className={`popup__error_registration ${\r\n              isError && \"popup__error_registration_active\"\r\n            } `}\r\n          >\r\n            Такой пользователь уже есть\r\n          </span>\r\n        </div>\r\n      </>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default PopupRegister;\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport \"./SavedNewsHeader.css\";\r\n\r\nfunction SavedNewsHeader({ savedArticles }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [keyWords, setKeyWords] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    const keyWords = savedArticles\r\n      .map((elem) => elem.keyword)\r\n      .reduce((sum, el) => {\r\n        sum[el] = (sum[el] || 0) + 1;\r\n        return sum;\r\n      }, {});\r\n    setKeyWords(keyWords);\r\n  }, [savedArticles]);\r\n\r\n  function getEnding(keyWordsCount) {\r\n    let ending = \"-и другим\";\r\n\r\n    if (\r\n      keyWordsCount.toString().endsWith(\"1\") &&\r\n      !keyWordsCount.toString().endsWith(\"11\")\r\n    ) {\r\n      ending = \"-му другому\";\r\n    } else if (\r\n      keyWordsCount.toString().endsWith(\"2\") &&\r\n      !keyWordsCount.toString().endsWith(\"12\")\r\n    ) {\r\n      ending = \"-м другим\";\r\n    } else if (\r\n      keyWordsCount.toString().endsWith(\"3\") &&\r\n      !keyWordsCount.toString().endsWith(\"13\")\r\n    ) {\r\n      ending = \"-м другим\";\r\n    } else if (\r\n      keyWordsCount.toString().endsWith(\"4\") &&\r\n      !keyWordsCount.toString().endsWith(\"14\")\r\n    ) {\r\n      ending = \"-м другим\";\r\n    }\r\n    return ending;\r\n  }\r\n\r\n  return (\r\n    <section className=\"saved-news-header\">\r\n      <div className=\"saved-news-header__wrapper\">\r\n        <h3 className=\"saved-news-header__header\">Сохранённые статьи</h3>\r\n        <h1 className=\"saved-news-header__articles-count\">\r\n          {currentUser.name}, у вас &nbsp;\r\n          {savedArticles.length} сохраненных статей\r\n        </h1>\r\n        <p className=\"saved-news-header__keywords\">\r\n          По ключевым словам:&nbsp;\r\n          {Object.keys(keyWords).length <= 3 ? (\r\n            <>\r\n              <span className=\"saved-news-header__keywords-black\">\r\n                {Object.keys(keyWords).map((key) => key + \" \")}\r\n              </span>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <span className=\"saved-news-header__keywords-black\">\r\n                {Object.keys(keyWords)\r\n                  .slice(0, 3)\r\n                  .map((key) => key + \" \")}\r\n              </span>\r\n              &nbsp;и&nbsp;\r\n              <span className=\"saved-news-header__keywords-black\">\r\n                {Object.keys(keyWords).length - 3}\r\n                {getEnding(Object.keys(keyWords).length - 3)}\r\n              </span>\r\n            </>\r\n          )}\r\n        </p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SavedNewsHeader;\r\n","import React from \"react\";\r\nimport './SavedNews.css';\r\nimport NewsCard from '../NewsCard/NewsCard';\r\nimport \"../NewsCard/NewsCard.css\";\r\n\r\nfunction SavedNews({ article, handleButton, savedArticles }) {\r\n  const savedNewsContainer = `${\r\n    savedArticles.length > 0 ? \"saved-news__container\" : \"\"\r\n  }`;\r\n\r\n  return (\r\n    <section className=\"saved-news\">\r\n      <div className={savedNewsContainer}>\r\n        <div className=\"news-card-list\">\r\n          {savedArticles.map((article, key) => {\r\n            return (\r\n              <NewsCard\r\n                article={article}\r\n                key={key}\r\n                keyword = {article.keyword}\r\n                handleButton={handleButton}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SavedNews;\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useLocation, NavLink } from \"react-router-dom\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport \"./MobileMenu.css\";\r\n\r\nfunction MobileMenu({\r\n  isOpen,\r\n  handleClose,\r\n  handlePopupAuthOpen,\r\n  handleLogOut,\r\n}) {\r\n  const { pathname } = useLocation();\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function popupAuthOpen() {\r\n    handlePopupAuthOpen(true);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        isOpen\r\n          ? \"mobile-menu__overlay  mobile-menu_open\"\r\n          : \"mobile-menu__overlay\"\r\n      }\r\n    >\r\n      <nav className=\"mobile-menu\">\r\n        <div className=\"mobile-menu__header\">\r\n          <h1 className=\"mobile-menu__logo\"> NewsExplorer</h1>\r\n          <button\r\n            className=\"mobile-menu__close-button\"\r\n            onClick={handleClose}\r\n          ></button>\r\n        </div>\r\n        <ul className=\"mobile-menu__links\">\r\n          <li>\r\n            <NavLink\r\n              exact\r\n              to=\"/\"\r\n              className=\"mobile-menu__link\"\r\n              onClick={handleClose}\r\n            >\r\n              Главная\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink\r\n              exact\r\n              to=\"/saved-news\"\r\n              className=\"mobile-menu__link\"\r\n              onClick={handleClose}\r\n            >\r\n              Сохраненные статьи\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n        <button\r\n          className={\r\n            pathname === \"/saved-news\"\r\n              ? \"mobile-menu__login-button mobile-menu__login-button_black\"\r\n              : \"mobile-menu__login-button\"\r\n          }\r\n          onClick={currentUser.name ? handleLogOut : popupAuthOpen}\r\n        >\r\n          {currentUser.name || \"Авторизоваться\"}\r\n          {currentUser.name ? (\r\n            <span className=\"mobile-menu__login-pic\"></span>\r\n          ) : (\r\n            \" \"\r\n          )}\r\n        </button>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MobileMenu;\r\n","import React from 'react';\r\nimport './Preloader.css';\r\n\r\nfunction Preloader() {\r\n    return (\r\n        <section className=\"preloader\">\r\n            <i className=\"circle-preloader\"></i>\r\n            <p className=\"preloader__text\">Поиск новостей...</p>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Preloader;","import { NEWS_API_KEY, NEWS_API_URL, DAYS_TO_SEARCH } from \"../utils/constants\";\r\n\r\n//const settings = {url: 'https://newsapi.org/v2/everything?', key: 'bf7169dab96c48ad8d40d898b911863c'};\r\nclass NewsApi {\r\n  constructor(settings) {\r\n    this.baseUrl = settings.url;\r\n    this.key = settings.key;\r\n  }\r\n  getNews(query, date) {\r\n    const dateNow = date.toISOString().slice(0, 10);\r\n    date.setDate(date.getDate() - DAYS_TO_SEARCH);\r\n    const dateWeekAgo = date.toISOString().slice(0, 10);\r\n\r\n    return fetch(\r\n      `${this.baseUrl}q=${query}&from=${dateWeekAgo}&to=${dateNow}&sortBy=popularity&pageSize=100&language=ru&apiKey=${this.key}`,\r\n      {\r\n        method: \"GET\",\r\n      }\r\n    )\r\n      .then((result) => {\r\n        if (result.ok) {\r\n          return result.json();\r\n        }\r\n        return Promise.reject(`error${result.status}`);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n}\r\n\r\nconst newsApi = new NewsApi({ url: NEWS_API_URL, key: NEWS_API_KEY });\r\nexport default newsApi;\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ popupAuthOpen: setIsPopupAuthOpen, component: Component, header: Header, ...props }) => (\r\n  <Route>\r\n    {() =>\r\n      props.loggedIn === true ? (\r\n        <><Header {...props}/> <Component {...props}/></>\r\n      ) : (\r\n        <>\r\n        <Redirect to=\"/\" />\r\n        {setIsPopupAuthOpen(true)}\r\n        </>\r\n      )\r\n    }\r\n  </Route>\r\n);\r\n\r\nexport default ProtectedRoute;\r\n","import {NEWS_EXPLORER_API_URL} from \"../utils/constants\"\r\n\r\nexport const register = (email, password, name) =>\r\n  fetch(`${NEWS_EXPLORER_API_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    credentials: \"same-origin\",\r\n    body: JSON.stringify({ email, password, name }),\r\n  }).then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    if (res.status === 409) {\r\n      throw new Error(\"Пользователь с таким email уже зарегистрирован\");\r\n    }\r\n    throw new Error(\"Некорректно заполнено одно из полей\");\r\n  });\r\n\r\nexport const authorize = (email, password) =>\r\n  fetch(`${NEWS_EXPLORER_API_URL}/signin/`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n    },\r\n    credentials: \"same-origin\",\r\n    body: JSON.stringify({ email, password }),\r\n  }).then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    if (res.status === 400) {\r\n      throw new Error(\"Не передано одно из полей\");\r\n    }\r\n    if (res.status === 401) {\r\n      throw new Error(\"Пользователь с email не найден\");\r\n    }\r\n    throw new Error(`Ошибка авторизации: ${res.status}`);\r\n  });\r\n\r\nexport const getUserInfo = () =>\r\n  fetch(`${NEWS_EXPLORER_API_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n    },\r\n    credentials: \"same-origin\",\r\n  }).then((res) => {\r\n    if (res.status === 200) {\r\n      return res.json();\r\n    }\r\n    if (res.status === 400) {\r\n      throw new Error(\"Токен не передан или передан не в том формате\");\r\n    }\r\n    if (res.status === 401) {\r\n      throw new Error(\"Переданный токен некорректен\");\r\n    }\r\n    throw new Error(`Ошибка токена: ${res.status}`);\r\n  });\r\n\r\nexport const saveArticle = ({keyword, title, text, date, source, link, image}) =>\r\n{\r\n  fetch(`${NEWS_EXPLORER_API_URL}/articles`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n    },\r\n    body: JSON.stringify({\r\n      keyword,\r\n      title,\r\n      text,\r\n      date,\r\n      source,\r\n      link,\r\n      image,\r\n    }),\r\n  }).then((res) => {\r\n    if (res.status === 200) {\r\n      return res.json();\r\n    }\r\n    if (res.status === 400) {\r\n      throw new Error(\"Токен не передан или передан не в том формате\");\r\n    }\r\n    if (res.status === 401) {\r\n      throw new Error(\"Переданный токен некорректен\");\r\n    }\r\n    throw new Error(`Ошибка токена: ${res.status}`);\r\n  });\r\n}\r\n\r\n  export const getSavedArticles = () => \r\n    fetch(`${NEWS_EXPLORER_API_URL}/articles`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n      }\r\n    })\r\n    .then((res) => \r\n        res.json()\r\n  );\r\n  \r\n  export const deleteArticle = (article) => {\r\n    return fetch(`${NEWS_EXPLORER_API_URL}/articles/${article._id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`\r\n      },\r\n    })\r\n  }\r\n","import React from \"react\";\r\nimport \"../PopupWithForm/PopupWithForm.css\";\r\nimport \"./InfoTooltipPopup.css\";\r\n\r\nfunction InfoTooltip({ onOpen, isOpen, onClose, handleButtonCLick }) {\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  React.useEffect(() => onOpen(), [isOpen]);\r\n  return (\r\n    <div className={isOpen ? \"popup  popup_open\" : \"popup \"}>\r\n      <div className=\"info-tooltip\">\r\n        <button\r\n          onClick={onClose}\r\n          type=\"button\"\r\n          className=\"popup__button-close\"\r\n        ></button>\r\n        <h3 className=\"popup__title\">Пользователь успешно зарегистрирован!</h3>\r\n        <button\r\n          onClick={() => handleButtonCLick()}\r\n          type=\"button\"\r\n          className=\"info-tooltip__button\"\r\n        >\r\n          Войти\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Header from \"./Header/Header\";\r\nimport \"./App.css\";\r\nimport SearchForm from \"./SearchForm/SearchForm\";\r\nimport About from \"./About/About\";\r\nimport Footer from \"./Footer/Footer\";\r\nimport NewsCardList from \"./NewsCardList/NewsCardList\";\r\nimport PopupAuth from \"./PopupAuth/PopupAuth\";\r\nimport PopupRegister from \"./PopupRegister/PopupRegister\";\r\nimport SavedNewsHeader from \"./SavedNewsHeader/SavedNewsHeader\";\r\nimport SavedNews from \"./SavedNews/SavedNews\";\r\nimport MobileMenu from \"./MobileMenu/MobileMenu\";\r\nimport Preloader from \"./Preloader/Preloader\";\r\nimport newsApi from \"../utils/NewsApi\";\r\nimport ProtectedRoute from \"./ProtectedRoute/ProtectedRoute\";\r\nimport {\r\n  register,\r\n  authorize,\r\n  getUserInfo,\r\n  saveArticle,\r\n  getSavedArticles,\r\n  deleteArticle,\r\n} from \"../utils/MainApi\";\r\nimport InfoTooltip from \"./InfoTooltipPopup/InfoTooltipPopup\";\r\nimport useFormWithValidation from \"../hooks/formWithValidation\";\r\nimport { IMAGE_NOT_FOUND } from \"../utils/constants\";\r\n\r\nfunction App() {\r\n  const [isPopupAuthOpen, setIsPopupAuthOpen] = React.useState(false);\r\n  const [isPopupRegisterOpen, setIsPopupRegisterOpen] = React.useState(false);\r\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = React.useState(false);\r\n  const [newsCards, setNewsCards] = React.useState([]);\r\n  const [searchQuery, setSearchQuery] = React.useState();\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [savedArticles, setSavedArticles] = useState([]);\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\r\n  const [isRegistrationError, setIsRegistrationError] = useState(false);\r\n  const [keyWords, setKeyWords] = useState([]);\r\n  const history = useHistory();\r\n  const { resetForm } = useFormWithValidation();\r\n\r\n  function getNews() {\r\n    if (searchQuery) {\r\n      setIsLoading(true);\r\n      localStorage.removeItem(\"articles\");\r\n      localStorage.removeItem(\"keyword\");\r\n      newsApi\r\n        .getNews(searchQuery, new Date())\r\n        .then((apiCards) => {\r\n          setNewsCards(apiCards.articles);\r\n          if (loggedIn) {\r\n            localStorage.setItem(\"articles\", JSON.stringify(apiCards.articles));\r\n            localStorage.setItem(\"keyword\", JSON.stringify(searchQuery));\r\n          }\r\n        })\r\n        .then(() => setIsLoading(false));\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    tokenCheck();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getNews();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchQuery]);\r\n\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      getSavedArticles().then((articles) => {\r\n        setSavedArticles(articles);\r\n        const localStorageArticles = JSON.parse(\r\n          localStorage.getItem(\"articles\")\r\n        );\r\n        if (localStorageArticles) setNewsCards(localStorageArticles);\r\n\r\n        let keyWords = [];\r\n        articles.map((elem) => keyWords.push(elem.keyword));\r\n        setKeyWords(keyWords);\r\n      });\r\n    }\r\n  }, [currentUser, loggedIn]);\r\n\r\n  const escClosePopup = (evt) => {\r\n    if (evt.key === \"Escape\") {\r\n      closeAllPopups();\r\n    }\r\n  };\r\n  const overlayClosePopup = (evt) => {\r\n    if (evt.target.classList.contains(\"popup_open\")) {\r\n      closeAllPopups();\r\n    }\r\n  };\r\n  React.useEffect(() => {\r\n    document.addEventListener(\"keydown\", escClosePopup);\r\n    document.addEventListener(\"click\", overlayClosePopup);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", escClosePopup);\r\n      document.removeEventListener(\"click\", overlayClosePopup);\r\n    };\r\n  });\r\n  const closeAllPopups = () => {\r\n    setIsPopupAuthOpen(false);\r\n    setIsPopupRegisterOpen(false);\r\n    setIsRegistrationError(false);\r\n    setIsInfoTooltipOpen(false);\r\n  };\r\n  const hahdleMobileOpen = () => {\r\n    setIsMobileMenuOpen(true);\r\n  };\r\n  const handleMobileClose = () => {\r\n    setIsMobileMenuOpen(false);\r\n  };\r\n\r\n  function handleLogin(email, password, handleClose) {\r\n    return authorize(email, password)\r\n      .then((res) => {\r\n        if (res && res.token) {\r\n          localStorage.setItem(\"jwt\", res.token);\r\n          tokenCheck();\r\n          handleClose();\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoggedIn(false);\r\n      });\r\n  }\r\n\r\n  function handleRegister(email, password, name) {\r\n    return register(email, password, name)\r\n      .then((res) => {\r\n        setIsInfoTooltipOpen(true);\r\n      })\r\n      .catch((err) => {\r\n        setIsRegistrationError(true);\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  const tokenCheck = useCallback(() => {\r\n    const jwt = localStorage.getItem(\"jwt\");\r\n    if (jwt) {\r\n      getUserInfo()\r\n        .then((currentUser) => {\r\n          setCurrentUser({\r\n            email: currentUser.email,\r\n            name: currentUser.name,\r\n            id: currentUser._id,\r\n          });\r\n          localStorage.setItem(\"user\", JSON.stringify(currentUser));\r\n        })\r\n        .then(() => {\r\n          setLoggedIn(true);\r\n          history.push(\"/\");\r\n        })\r\n        .catch((err) => {\r\n          setLoggedIn(false);\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [history]);\r\n\r\n  function handleLogOut() {\r\n    localStorage.removeItem(\"jwt\");\r\n    localStorage.removeItem(\"articles\");\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"keyword\");\r\n    history.push(\"/\");\r\n    setLoggedIn(false);\r\n    setNewsCards([]);\r\n    setCurrentUser({});\r\n    setSearchQuery(\"\");\r\n  }\r\n\r\n  function handleArticleSave(article) {\r\n    if (loggedIn) {\r\n      const articleToSaveOrDelete = savedArticles.find(\r\n        (i) => i.title === article.title\r\n      );\r\n\r\n      if (!articleToSaveOrDelete) {\r\n        console.log(article);\r\n        saveArticle({\r\n          image: article.urlToImage || IMAGE_NOT_FOUND,\r\n          date: article.publishedAt,\r\n          title: article.title,\r\n          text: article.description,\r\n          source: article.source.name,\r\n          keyword: searchQuery || localStorage.getItem(\"keyword\"),\r\n          link: article.url,\r\n        });\r\n\r\n        getSavedArticles()\r\n          .then((articles) => {\r\n            setSavedArticles(articles);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err.message);\r\n          });\r\n      } else {\r\n        handleDeleteArticle(articleToSaveOrDelete);\r\n      }\r\n    } else {\r\n      setIsPopupRegisterOpen(true);\r\n    }\r\n  }\r\n\r\n  function handleDeleteArticle(article) {\r\n    deleteArticle(article)\r\n      .then(() => {\r\n        setSavedArticles(\r\n          savedArticles.filter((elem) => elem._id !== article._id)\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n      });\r\n  }\r\n\r\n  function handleInfoTooltipClose() {\r\n    setIsInfoTooltipOpen(false);\r\n    setIsPopupAuthOpen(true);\r\n  }\r\n\r\n  function handleInfoTooltipOpen() {\r\n    setIsPopupRegisterOpen(false);\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"wrapper\">\r\n        <Header\r\n          handleMobileOpen={hahdleMobileOpen}\r\n          popupAuthOpen={setIsPopupAuthOpen}\r\n          handleLogOut={handleLogOut}\r\n        />\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <SearchForm\r\n              handleQuery={setSearchQuery}\r\n              searchQuery={searchQuery}\r\n            />\r\n            {isLoading ? (\r\n              <Preloader />\r\n            ) : (\r\n              <NewsCardList\r\n                articles={newsCards}\r\n                handleButton={handleArticleSave}\r\n                savedArticles={savedArticles}\r\n                searchQuery={searchQuery}\r\n              />\r\n            )}\r\n            <About />\r\n          </Route>\r\n          <ProtectedRoute\r\n            exact\r\n            path=\"/saved-news\"\r\n            loggedIn={loggedIn}\r\n            header={SavedNewsHeader}\r\n            component={SavedNews}\r\n            savedArticles={savedArticles}\r\n            articles={savedArticles}\r\n            handleButton={handleDeleteArticle}\r\n            popupAuthOpen={setIsPopupAuthOpen}\r\n          />\r\n        </Switch>\r\n        <Footer />\r\n        <MobileMenu\r\n          isOpen={isMobileMenuOpen}\r\n          handleClose={handleMobileClose}\r\n          handlePopupAuthOpen={setIsPopupAuthOpen}\r\n          handleLogOut={handleLogOut}\r\n        />\r\n        <PopupAuth\r\n          isOpen={isPopupAuthOpen}\r\n          onClose={closeAllPopups}\r\n          handlePopupRegisterOpen={setIsPopupRegisterOpen}\r\n          handleLogin={handleLogin}\r\n        ></PopupAuth>\r\n        <PopupRegister\r\n          isOpen={isPopupRegisterOpen}\r\n          onClose={closeAllPopups}\r\n          handleRegister={handleRegister}\r\n          handlePopupAuthOpen={setIsPopupAuthOpen}\r\n          isError={isRegistrationError}\r\n        ></PopupRegister>\r\n        <InfoTooltip\r\n          onOpen={handleInfoTooltipOpen}\r\n          isOpen={isInfoTooltipOpen}\r\n          onClose={closeAllPopups}\r\n          handleButtonCLick={handleInfoTooltipClose}\r\n        ></InfoTooltip>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <BrowserRouter>\r\n            <App />\r\n        </BrowserRouter>\r\n    </React.StrictMode>,\r\n    document.querySelector('#root'),\r\n);\r\n"],"sourceRoot":""}